#!/bin/bash
#=================================================
# YunoHost backup script for Atuin server
#=================================================

source /usr/share/yunohost/helpers

app="${YNH_APP_INSTANCE_NAME:-atuin}"

#=================================================
# LOAD SETTINGS / RESOURCES
#=================================================
: "${install_dir:?install_dir is required}"
: "${data_dir:?data_dir is required}"

#=================================================
# BACKUP (declarative)
#=================================================
ynh_print_info "Declaring files to be backed up for $app..."

# In this helper version, ynh_backup expects the path as a positional argument
# (it does NOT support --src_path flags).
ynh_backup "$install_dir"
ynh_backup "$data_dir"

ynh_print_info "Backup declaration done."

